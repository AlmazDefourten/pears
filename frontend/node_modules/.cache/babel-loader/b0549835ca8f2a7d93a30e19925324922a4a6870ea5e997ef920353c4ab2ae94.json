{"ast":null,"code":"import { invariant } from 'hey-listen';\nimport { animateVisualElement, stopAnimation } from '../../render/utils/animation.mjs';\nimport { setValues } from '../../render/utils/setters.mjs';\n\n/**\r\n * @public\r\n */\nfunction animationControls() {\n  /**\r\n   * Track whether the host component has mounted.\r\n   */\n  let hasMounted = false;\n  /**\r\n   * A collection of linked component animation controls.\r\n   */\n  const subscribers = new Set();\n  const controls = {\n    subscribe(visualElement) {\n      subscribers.add(visualElement);\n      return () => void subscribers.delete(visualElement);\n    },\n    start(definition, transitionOverride) {\n      invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n      const animations = [];\n      subscribers.forEach(visualElement => {\n        animations.push(animateVisualElement(visualElement, definition, {\n          transitionOverride\n        }));\n      });\n      return Promise.all(animations);\n    },\n    set(definition) {\n      invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\n      return subscribers.forEach(visualElement => {\n        setValues(visualElement, definition);\n      });\n    },\n    stop() {\n      subscribers.forEach(visualElement => {\n        stopAnimation(visualElement);\n      });\n    },\n    mount() {\n      hasMounted = true;\n      return () => {\n        hasMounted = false;\n        controls.stop();\n      };\n    }\n  };\n  return controls;\n}\nexport { animationControls };","map":{"version":3,"names":["invariant","animateVisualElement","stopAnimation","setValues","animationControls","hasMounted","subscribers","Set","controls","subscribe","visualElement","add","delete","start","definition","transitionOverride","animations","forEach","push","Promise","all","set","stop","mount"],"sources":["C:/Users/Кирилл/Desktop/here/pears/frontend/node_modules/framer-motion/dist/es/animation/hooks/animation-controls.mjs"],"sourcesContent":["import { invariant } from 'hey-listen';\r\nimport { animateVisualElement, stopAnimation } from '../../render/utils/animation.mjs';\r\nimport { setValues } from '../../render/utils/setters.mjs';\r\n\r\n/**\r\n * @public\r\n */\r\nfunction animationControls() {\r\n    /**\r\n     * Track whether the host component has mounted.\r\n     */\r\n    let hasMounted = false;\r\n    /**\r\n     * A collection of linked component animation controls.\r\n     */\r\n    const subscribers = new Set();\r\n    const controls = {\r\n        subscribe(visualElement) {\r\n            subscribers.add(visualElement);\r\n            return () => void subscribers.delete(visualElement);\r\n        },\r\n        start(definition, transitionOverride) {\r\n            invariant(hasMounted, \"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\r\n            const animations = [];\r\n            subscribers.forEach((visualElement) => {\r\n                animations.push(animateVisualElement(visualElement, definition, {\r\n                    transitionOverride,\r\n                }));\r\n            });\r\n            return Promise.all(animations);\r\n        },\r\n        set(definition) {\r\n            invariant(hasMounted, \"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook.\");\r\n            return subscribers.forEach((visualElement) => {\r\n                setValues(visualElement, definition);\r\n            });\r\n        },\r\n        stop() {\r\n            subscribers.forEach((visualElement) => {\r\n                stopAnimation(visualElement);\r\n            });\r\n        },\r\n        mount() {\r\n            hasMounted = true;\r\n            return () => {\r\n                hasMounted = false;\r\n                controls.stop();\r\n            };\r\n        },\r\n    };\r\n    return controls;\r\n}\r\n\r\nexport { animationControls };\r\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,YAAY;AACtC,SAASC,oBAAoB,EAAEC,aAAa,QAAQ,kCAAkC;AACtF,SAASC,SAAS,QAAQ,gCAAgC;;AAE1D;AACA;AACA;AACA,SAASC,iBAAiBA,CAAA,EAAG;EACzB;AACJ;AACA;EACI,IAAIC,UAAU,GAAG,KAAK;EACtB;AACJ;AACA;EACI,MAAMC,WAAW,GAAG,IAAIC,GAAG,EAAE;EAC7B,MAAMC,QAAQ,GAAG;IACbC,SAASA,CAACC,aAAa,EAAE;MACrBJ,WAAW,CAACK,GAAG,CAACD,aAAa,CAAC;MAC9B,OAAO,MAAM,KAAKJ,WAAW,CAACM,MAAM,CAACF,aAAa,CAAC;IACvD,CAAC;IACDG,KAAKA,CAACC,UAAU,EAAEC,kBAAkB,EAAE;MAClCf,SAAS,CAACK,UAAU,EAAE,iHAAiH,CAAC;MACxI,MAAMW,UAAU,GAAG,EAAE;MACrBV,WAAW,CAACW,OAAO,CAAEP,aAAa,IAAK;QACnCM,UAAU,CAACE,IAAI,CAACjB,oBAAoB,CAACS,aAAa,EAAEI,UAAU,EAAE;UAC5DC;QACJ,CAAC,CAAC,CAAC;MACP,CAAC,CAAC;MACF,OAAOI,OAAO,CAACC,GAAG,CAACJ,UAAU,CAAC;IAClC,CAAC;IACDK,GAAGA,CAACP,UAAU,EAAE;MACZd,SAAS,CAACK,UAAU,EAAE,+GAA+G,CAAC;MACtI,OAAOC,WAAW,CAACW,OAAO,CAAEP,aAAa,IAAK;QAC1CP,SAAS,CAACO,aAAa,EAAEI,UAAU,CAAC;MACxC,CAAC,CAAC;IACN,CAAC;IACDQ,IAAIA,CAAA,EAAG;MACHhB,WAAW,CAACW,OAAO,CAAEP,aAAa,IAAK;QACnCR,aAAa,CAACQ,aAAa,CAAC;MAChC,CAAC,CAAC;IACN,CAAC;IACDa,KAAKA,CAAA,EAAG;MACJlB,UAAU,GAAG,IAAI;MACjB,OAAO,MAAM;QACTA,UAAU,GAAG,KAAK;QAClBG,QAAQ,CAACc,IAAI,EAAE;MACnB,CAAC;IACL;EACJ,CAAC;EACD,OAAOd,QAAQ;AACnB;AAEA,SAASJ,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}