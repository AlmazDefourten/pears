{"ast":null,"code":"import { sync } from '../frameloop/index.mjs';\nimport { useEffect } from 'react';\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\nimport { useForceUpdate } from './use-force-update.mjs';\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\nfunction useInstantTransition() {\n  const [forceUpdate, forcedRenderCount] = useForceUpdate();\n  const startInstantLayoutTransition = useInstantLayoutTransition();\n  useEffect(() => {\n    /**\r\n     * Unblock after two animation frames, otherwise this will unblock too soon.\r\n     */\n    sync.postRender(() => sync.postRender(() => instantAnimationState.current = false));\n  }, [forcedRenderCount]);\n  return callback => {\n    startInstantLayoutTransition(() => {\n      instantAnimationState.current = true;\n      forceUpdate();\n      callback();\n    });\n  };\n}\nexport { useInstantTransition };","map":{"version":3,"names":["sync","useEffect","useInstantLayoutTransition","useForceUpdate","instantAnimationState","useInstantTransition","forceUpdate","forcedRenderCount","startInstantLayoutTransition","postRender","current","callback"],"sources":["C:/Users/Кирилл/Desktop/gdfjtgj/pears/frontend/node_modules/framer-motion/dist/es/utils/use-instant-transition.mjs"],"sourcesContent":["import { sync } from '../frameloop/index.mjs';\r\nimport { useEffect } from 'react';\r\nimport { useInstantLayoutTransition } from '../projection/use-instant-layout-transition.mjs';\r\nimport { useForceUpdate } from './use-force-update.mjs';\r\nimport { instantAnimationState } from './use-instant-transition-state.mjs';\r\n\r\nfunction useInstantTransition() {\r\n    const [forceUpdate, forcedRenderCount] = useForceUpdate();\r\n    const startInstantLayoutTransition = useInstantLayoutTransition();\r\n    useEffect(() => {\r\n        /**\r\n         * Unblock after two animation frames, otherwise this will unblock too soon.\r\n         */\r\n        sync.postRender(() => sync.postRender(() => (instantAnimationState.current = false)));\r\n    }, [forcedRenderCount]);\r\n    return (callback) => {\r\n        startInstantLayoutTransition(() => {\r\n            instantAnimationState.current = true;\r\n            forceUpdate();\r\n            callback();\r\n        });\r\n    };\r\n}\r\n\r\nexport { useInstantTransition };\r\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,wBAAwB;AAC7C,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,0BAA0B,QAAQ,iDAAiD;AAC5F,SAASC,cAAc,QAAQ,wBAAwB;AACvD,SAASC,qBAAqB,QAAQ,oCAAoC;AAE1E,SAASC,oBAAoBA,CAAA,EAAG;EAC5B,MAAM,CAACC,WAAW,EAAEC,iBAAiB,CAAC,GAAGJ,cAAc,EAAE;EACzD,MAAMK,4BAA4B,GAAGN,0BAA0B,EAAE;EACjED,SAAS,CAAC,MAAM;IACZ;AACR;AACA;IACQD,IAAI,CAACS,UAAU,CAAC,MAAMT,IAAI,CAACS,UAAU,CAAC,MAAOL,qBAAqB,CAACM,OAAO,GAAG,KAAM,CAAC,CAAC;EACzF,CAAC,EAAE,CAACH,iBAAiB,CAAC,CAAC;EACvB,OAAQI,QAAQ,IAAK;IACjBH,4BAA4B,CAAC,MAAM;MAC/BJ,qBAAqB,CAACM,OAAO,GAAG,IAAI;MACpCJ,WAAW,EAAE;MACbK,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC;AACL;AAEA,SAASN,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}